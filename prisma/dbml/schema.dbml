//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Company {
  id String [pk]
  name String [not null]
  address String
  users User [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table User {
  id String [pk]
  email String [unique, not null]
  password String [not null]
  name String
  role Role [not null, default: 'USER']
  company Company [not null]
  companyId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  qualityAssurance QualityAssurance
  pos PO [not null]
  rfps RFP [not null]
}

Table Vendor {
  id String [pk]
  customerCode String
  primaryName String [not null]
  companyName String [not null]
  contactDisplayName String [not null]
  email String
  workPhone String
  mobile String
  website String
  openingBalance String
  gstin String
  msmeNo String
  address String
  currency String [not null, default: 'INR']
  customerTerms String
  customerState String
  customerCity String
  country String [not null, default: 'India']
  zip String
  fax String
  dlNumber String
  remarks String
  openingType String
  pan String
  productCategory ProductCategory [not null]
  productCategoryId Int [not null]
  quotations Quotation [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Payment {
  id String [pk]
  invoice Invoice [not null]
  invoiceId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table ProductCategory {
  id Int [pk, increment]
  name String [unique, not null]
  products Product [not null]
  vendors Vendor [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table PO {
  id String [pk]
  quotation Quotation [not null]
  quotationId String [unique, not null]
  user User [not null]
  userId String [not null]
  invoice Invoice
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table GoodStatus {
  id String [pk]
  invoice Invoice [not null]
  invoiceId String [unique, not null]
  deliveryStatus Boolean [not null]
  qualityAssurance Boolean [not null]
  qualityAssuranceLeader QualityAssurance [not null]
  qualityAssuranceLeaderId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Product {
  id Int [pk, increment]
  name String [not null]
  modelNo String [not null]
  specification String [not null]
  productCategory ProductCategory [not null]
  productCategoryId Int [not null]
  rfpProducts RFPProduct [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Invoice {
  id String [pk]
  po PO [not null]
  poId String [unique, not null]
  payments Payment [not null]
  goodStatus GoodStatus
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Quotation {
  id String [pk]
  rfp RFP [not null]
  rfpId String [unique, not null]
  vendor Vendor [not null]
  vendorId String [not null]
  billAmount Decimal [not null]
  po PO
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table QualityAssurance {
  id String [pk]
  user User [not null]
  userId String [unique, not null]
  goodStatuses GoodStatus [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table RFP {
  id String [pk]
  requirementType String [not null]
  dateOfOrdering DateTime [not null]
  deliveryLocation String [not null]
  deliveryByDate DateTime [not null]
  lastDateToRespond DateTime [not null]
  user User [not null]
  userId String [not null]
  quotation Quotation
  approversList ApproversList [not null]
  rfpProducts RFPProduct [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table RFPProduct {
  id String [pk]
  rfp RFP [not null]
  rfpId String [not null]
  product Product [not null]
  productId Int [not null]
  quantity Int [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]

  indexes {
    (rfpId, productId) [unique]
  }
}

Table Approver {
  id String [pk]
  name String [not null]
  email String [unique, not null]
  phone String [not null]
  approversList ApproversList [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table ApproversList {
  id String [pk]
  rfp RFP [not null]
  rfpId String [not null]
  approver Approver [not null]
  approverId String [not null]
  approved Boolean [not null, default: false]
  approvedAt DateTime
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]

  indexes {
    (rfpId, approverId) [unique]
  }
}

Enum Role {
  ADMIN
  PR_MANAGER
  FINANCE_MANAGER
  ACCOUNTANT
  QUALITY_ASSURANCE
  USER
}

Ref: User.companyId > Company.id

Ref: Vendor.productCategoryId > ProductCategory.id

Ref: Payment.invoiceId > Invoice.id

Ref: PO.quotationId - Quotation.id

Ref: PO.userId > User.id

Ref: GoodStatus.invoiceId - Invoice.id

Ref: GoodStatus.qualityAssuranceLeaderId > QualityAssurance.id

Ref: Product.productCategoryId > ProductCategory.id

Ref: Invoice.poId - PO.id

Ref: Quotation.rfpId - RFP.id

Ref: Quotation.vendorId > Vendor.id

Ref: QualityAssurance.userId - User.id

Ref: RFP.userId > User.id

Ref: RFPProduct.rfpId > RFP.id

Ref: RFPProduct.productId > Product.id

Ref: ApproversList.rfpId > RFP.id

Ref: ApproversList.approverId > Approver.id