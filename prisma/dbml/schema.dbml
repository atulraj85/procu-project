//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Company {
  id String [pk]
  name String [not null]
  address String
  email String [unique]
  phone String
  website String
  industry String
  foundedDate DateTime
  status String
  users User [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  PO PO [not null]
}

Table User {
  id String [pk]
  email String [unique, not null]
  password String [not null]
  name String
  role Role [not null, default: 'USER']
  company Company [not null]
  companyId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  qualityAssurance QualityAssurance
  pos PO [not null]
  rfps RFP [not null]
  Vendor Vendor [not null]
  approversList ApproversList [not null]
}

Table Vendor {
  id String [pk]
  customerCode String
  primaryName String [not null]
  companyName String [not null]
  contactDisplayName String [not null]
  email String
  workPhone String
  mobile String
  website String
  gstin String
  msmeNo String
  address String
  customerState String
  customerCity String
  country String
  zip String
  remarks String
  pan String
  verifiedById String
  verifiedBy User
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  ProductCategory ProductCategory
  productCategoryId Int
  Quotation Quotation [not null]
}

Table Payment {
  id String [pk]
  invoice Invoice [not null]
  invoiceId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table ProductCategory {
  id Int [pk, increment]
  name String [unique, not null]
  products Product [not null]
  vendors Vendor [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table PO {
  id String [pk]
  poId String [unique, not null]
  quotation Quotation [not null]
  quotationId String [unique, not null]
  user User [not null]
  userId String [not null]
  invoice Invoice
  companyId String [not null]
  company Company [not null]
  rfpId String [unique, not null]
  rfp RFP [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table GoodStatus {
  id String [pk]
  invoice Invoice [not null]
  invoiceId String [unique, not null]
  deliveryStatus Boolean [not null]
  qualityAssurance Boolean [not null]
  qualityAssuranceLeader QualityAssurance [not null]
  qualityAssuranceLeaderId String [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Product {
  id Int [pk, increment]
  name String [not null]
  modelNo String [not null]
  specification String [not null]
  productCategory ProductCategory [not null]
  productCategoryId Int [not null]
  rfpProducts RFPProduct [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Invoice {
  id String [pk]
  po PO [not null]
  poId String [unique, not null]
  payments Payment [not null]
  goodStatus GoodStatus
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
}

Table Quotation {
  id String [pk]
  rfp RFP [not null]
  rfpId String [not null]
  vendor Vendor [not null]
  vendorId String [not null]
  billAmount Decimal [not null]
  po PO
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  RFP RFP [not null]
}

Table RFP {
  id String [pk]
  rfpId String [unique, not null]
  requirementType String [not null]
  dateOfOrdering DateTime [not null]
  deliveryLocation String [not null]
  deliveryByDate DateTime [not null]
  lastDateToRespond DateTime [not null]
  user User [not null]
  userId String [not null]
  rfpStatus RFPStatus [not null, default: 'DRAFT']
  preferredQuotationId String
  quotations Quotation [not null]
  approversList ApproversList [not null]
  rfpProducts RFPProduct [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [not null]
  po PO
  Quotation Quotation [not null]
}

Table RFPProduct {
  id String [pk]
  rfp RFP [not null]
  rfpId String [not null]
  product Product [not null]
  productId Int [not null]
  quantity Int [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [default: `now()`, not null]

  indexes {
    (rfpId, productId) [unique]
  }
}

Table ApproversList {
  id String [pk]
  rfpId String [not null]
  rfp RFP [not null]
  user User [not null]
  userId String [not null]
  approved Boolean [not null, default: false]
  approvedAt DateTime
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [default: `now()`, not null]

  indexes {
    (rfpId, userId) [unique]
  }
}

Table QualityAssurance {
  id String [pk]
  user User [not null]
  userId String [unique, not null]
  goodStatuses GoodStatus [not null]
  created_at DateTime [default: `now()`, not null]
  updated_at DateTime [default: `now()`, not null]
}

Table RFPQuotations {
  rfpId String [ref: > RFP.id]
  quotationsId String [ref: > Quotation.id]
}

Enum Role {
  ADMIN
  PR_MANAGER
  FINANCE_MANAGER
  ACCOUNTANT
  QUALITY_ASSURANCE
  USER
}

Enum RFPStatus {
  DRAFT
  PENDING
  IN_PROGRESS
  INVOICE_NOT_RECEIVED
  GRN_NOT_RECEIVED
  PAYMENT_NOT_DONE
  COMPLETED
}

Ref: User.companyId > Company.id

Ref: Vendor.verifiedById > User.id

Ref: Vendor.productCategoryId > ProductCategory.id

Ref: Payment.invoiceId > Invoice.id

Ref: PO.quotationId - Quotation.id

Ref: PO.userId > User.id

Ref: PO.companyId > Company.id

Ref: PO.rfpId - RFP.id

Ref: GoodStatus.invoiceId - Invoice.id

Ref: GoodStatus.qualityAssuranceLeaderId > QualityAssurance.id

Ref: Product.productCategoryId > ProductCategory.id

Ref: Invoice.poId - PO.id

Ref: Quotation.rfpId > RFP.id

Ref: Quotation.vendorId > Vendor.id

Ref: RFP.userId > User.id

Ref: RFPProduct.rfpId > RFP.id

Ref: RFPProduct.productId > Product.id

Ref: ApproversList.rfpId > RFP.id

Ref: ApproversList.userId > User.id

Ref: QualityAssurance.userId - User.id